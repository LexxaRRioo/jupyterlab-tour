"use strict";(self.webpackChunkjupyterlab_tour_ru=self.webpackChunkjupyterlab_tour_ru||[]).push([[407],{1407:(e,t,o)=>{o.r(t),o.d(t,{ITourManager:()=>E,default:()=>K});var r=o(6104),n=o(3279),s=o(7882),i=o(1036),a=o(5176),l=o(7020),p=o(1247),u=o(3345),d=o.n(u),c=o(6218),h=o.n(c);class g extends d().Component{constructor(e){super(e),this.reset=()=>{this.setState({run:!0,index:0})},this._handleJoyrideCallback=e=>{const{status:t}=e,o=[c.STATUS.FINISHED,c.STATUS.SKIPPED];if(this.props.tours[this.state.index].handleTourEvent(e),o.includes(t)){this.setState({run:!1});const e=this.state.index+1;e<this.props.tours.length?this.setState({index:e,run:!0}):this.setState({index:-1})}},this.state={run:!0,index:0}}render(){return this.props.tours&&this.props.tours[this.state.index]?d().createElement(h(),{key:this.props.tours[this.state.index].id,...this.props.tours[this.state.index].options,callback:this._handleJoyrideCallback,run:this.state.run,steps:this.props.tours[this.state.index].steps}):null}}function y(e){const t=d().useRef(null);return t.current&&t.current.reset(),d().createElement(g,{ref:t,tours:e.tours})}function b(e){return d().createElement(r.UseSignal,{signal:e.tourLaunched,initialArgs:[]},((e,t)=>t&&t.length>0?d().createElement(y,{tours:t}):null))}var m=o(7262);const _=JSON.parse('{"UU":"jupyterlab-tour-ru"}').UU,f=`${_}:plugin`,T=`${_}:user-tours`,v=`${_}:notebook-tours`,S=`${_}:default-tours`,E=new m.Token(`${_}:ITourManager`),k=new m.Token(`${_}:IUserTourManager`),w=new m.Token(`${_}:IUserTourManager`);var C;!function(e){e.addTour=`${_}:add`,e.launch=`${_}:launch`}(C||(C={}));const P=`${_}:python-course`,I={continuous:!0,showProgress:!0,showSkipButton:!0,styles:{options:{arrowColor:"var(--jp-layout-color1)",backgroundColor:"var(--jp-layout-color1)",beaconSize:36,overlayColor:"var(--jp-dialog-background)",primaryColor:"var(--jp-brand-color1)",spotlightShadow:"var(--jp-elevation-z6)",textColor:"var(--jp-ui-font-color1)",zIndex:100}}};var j=o(9262);const x='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n  <g class="jp-icon3 jp-icon-selectable" fill="currentColor">\n    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />\n  </g>\n</svg>\n',O='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n   <g class="jp-icon3 jp-icon-selectable" fill="currentColor">\n      <path d="M 12 2 C 8.13 2 5 5.13 5 9 C 5 14.25 12 22 12 22 C 12 22 19 14.25 19 9 C 19 5.13 15.87 2 12 2 z M 8 5.6777344 L 16 5.6777344 L 16 13.677734 L 12.072266 10.548828 L 8 13.677734 L 8 5.6777344 z " id="path1153" />\n   </g>\n</svg>\n',N=new j.LabIcon({name:`${_}:tour`,svgstr:x}),R=(new j.LabIcon({name:`${_}:default-welcome-tour`,svgstr:x.replace(/jp-icon3/,"jp-icon-warn0")}),new j.LabIcon({name:`${_}:tour-error`,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n  <g class="jp-icon-warn0 jp-icon-selectable" fill="currentColor">\n    <path d="M12,2c-4.2,0-8,3.22-8,8.2c0,3.32,2.67,7.25,8,11.8c5.33-4.55,8-8.48,8-11.8C20,5.22,16.2,2,12,2z M13,15h-2v-2h2V15z M13,11h-2V6h2V11z" />\n  </g>\n</svg>\n'})),M=(new j.LabIcon({name:`${_}:default-notebook-tour`,svgstr:O.replace(/jp-icon3/,"jp-icon-warn0")}),new j.LabIcon({name:`${_}:user-tour`,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n  <g class="jp-icon3 jp-icon-selectable" fill="currentColor">\n    <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z M12,4c1.1,0,2,0.9,2,2c0,1.11-0.9,2-2,2 s-2-0.89-2-2C10,4.9,10.9,4,12,4z M12,14c-1.67,0-3.14-0.85-4-2.15c0.02-1.32,2.67-2.05,4-2.05s3.98,0.73,4,2.05 C15.14,13.15,13.67,14,12,14z"/>\n  </g>\n</svg>\n'})),L=new j.LabIcon({name:`${_}:notebook-tour`,svgstr:O}),A=new j.LabIcon({name:`${_}:notebook-has-tour`,svgstr:O.replace(/jp-icon3/,"jp-icon-brand0")});class D extends r.ReactWidget{constructor(e,t){super(),this.handleChange=async e=>{const{value:t}=e.target;switch(t){case"-":break;case"ALL":await this._manager.tourManager.launch(this._manager.getNotebookTourIds(this._notebook),!0);break;default:await this._manager.tourManager.launch([t],!0)}},this.renderOption=e=>{const t=this._manager.tourManager.tours.get(e);return u.createElement("option",{key:e,value:e},(null==t?void 0:t.label)||e)},this._manager=t,this._notebook=e,this.addClass("jp-NotebookTour-toolbaritem"),e.model&&this.update(),this._manager.notebookToursChanged.connect(this.update,this)}dispose(){this.isDisposed||(this._manager.notebookToursChanged.disconnect(this.update,this),super.dispose())}render(){const e=this.translator;let t=e.__("Start a Notebook Tour");const o=this._manager.getNotebookTourIds(this._notebook);let r=L;o.length&&(t=`${t} (${o.length})`,r=A);const n=this._manager.getNotebookValidationErrors(this._notebook);return n.length&&(t=`${this.translator.__("Tour Validation Errors")}: ${n.length}`,r=R),u.createElement(j.HTMLSelect,{onChange:this.handleChange,icon:r,"aria-label":e.__("Notebook Tours"),title:t,value:""},u.createElement("option",{style:{display:"none"},value:""}),n.length?u.createElement("option",null,e.__("Tour metadata is not valid: see the browser console!")):[],o.length?u.createElement("option",{value:"ALL"},e.__("Run all Tours")):u.createElement("optgroup",{label:e.__("No Tours found in this Notebook")}),o.length?u.createElement("optgroup",{label:e.__("Notebook Tours")},o.map(this.renderOption)):[])}get translator(){return this._manager.tourManager.translator}}var $=o(9052),U=o.n($),B=o(4602);const F=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","title":"Tours","description":"Configuration for user-defined tours. This schema is generated from https://github.com/gilbarbara/react-joyride/blob/master/types/index.d.ts","jupyter.lab.setting-icon-label":"Tours","jupyter.lab.setting-icon":"jupyterlab-tour:user-tour","jupyter.lab.toolbars":{"Notebook":[{"name":"jupyterlab-tour","rank":60}]},"type":"object","properties":{"tours":{"type":"array","description":"An array of a tours. Each requires an `id`, `label` and `steps[]`, and may have `options`, see https://docs.react-joyride.com","default":[],"items":{"type":"object","required":["id","label","steps"],"properties":{"id":{"type":"string","description":"A machine-readable ID to identify this tour, will be prefixed. Should be unique within this document."},"label":{"type":"string","description":"A human-readable name for the tour"},"hasHelpEntry":{"type":"boolean","description":"Whether to add a Help Menu item with the label to launch the tour","default":true},"icon":{"type":"string","description":"The name of an already-registered LabIcon to display next to this tour","default":"jupyterlab-tour:user-tour"},"steps":{"description":"The definition of the steps of a tour","type":"array","items":{"$ref":"#/definitions/Step"}},"options":{"description":"Other options for the tour","$ref":"#/definitions/Props"},"version":{"type":"integer","title":"The tour version","description":"The tour version (prefer calendar versioning YYYYMMDD) to determine if an user should see it again or not.","minimum":0},"translation":{"description":"Translation domain containing strings for this tour","type":"string"}}}}},"definitions":{"BeaconRenderProps":{"additionalProperties":false,"properties":{"continuous":{"type":"boolean"},"index":{"type":"number"},"isLastStep":{"type":"boolean"},"size":{"type":"number"},"step":{"$ref":"#/definitions/Step"}},"required":["continuous","index","isLastStep","size","step"],"type":"object"},"CallBackProps":{"additionalProperties":false,"properties":{"action":{"type":"string"},"controlled":{"type":"boolean"},"index":{"type":"number"},"lifecycle":{"type":"string"},"size":{"type":"number"},"status":{"$ref":"#/definitions/valueof%3Cstatus%3E"},"step":{"$ref":"#/definitions/Step"},"type":{"type":"string"}},"required":["action","controlled","index","lifecycle","size","status","step","type"],"type":"object"},"CommonProps":{"additionalProperties":false,"properties":{"beaconComponent":{"type":"string"},"disableCloseOnEsc":{"type":"boolean"},"disableOverlay":{"type":"boolean"},"disableOverlayClose":{"type":"boolean"},"disableScrollParentFix":{"type":"boolean"},"disableScrolling":{"type":"boolean"},"floaterProps":{"$ref":"#/definitions/FloaterProps"},"hideBackButton":{"type":"boolean"},"locale":{"$ref":"#/definitions/Locale"},"showProgress":{"type":"boolean"},"showSkipButton":{"type":"boolean"},"spotlightClicks":{"type":"boolean"},"spotlightPadding":{"type":"number"},"styles":{"$ref":"#/definitions/Styles"},"tooltipComponent":{"type":"string"}},"type":"object"},"FloaterProps":{"additionalProperties":false,"properties":{"disableAnimation":{"type":"boolean"},"options":{"$ref":"#/definitions/GenericObject"},"styles":{"$ref":"#/definitions/GenericObject"},"wrapperOptions":{"$ref":"#/definitions/GenericObject"}},"type":"object"},"GenericObject":{"type":"object"},"Locale":{"additionalProperties":false,"properties":{"back":{"type":"string"},"close":{"type":"string"},"last":{"type":"string"},"next":{"type":"string"},"open":{"type":"string"},"skip":{"type":"string"}},"type":"object"},"Placement":{"enum":["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"],"type":"string"},"PlacementBeacon":{"enum":["top","bottom","left","right"],"type":"string"},"Props":{"additionalProperties":false,"properties":{"beaconComponent":{"type":"string"},"continuous":{"type":"boolean"},"debug":{"type":"boolean"},"disableCloseOnEsc":{"type":"boolean"},"disableOverlay":{"type":"boolean"},"disableOverlayClose":{"type":"boolean"},"disableScrollParentFix":{"type":"boolean"},"disableScrolling":{"type":"boolean"},"floaterProps":{"$ref":"#/definitions/FloaterProps"},"hideBackButton":{"type":"boolean"},"locale":{"$ref":"#/definitions/Locale"},"run":{"type":"boolean"},"scrollOffset":{"type":"number"},"scrollToFirstStep":{"type":"boolean"},"showProgress":{"type":"boolean"},"showSkipButton":{"type":"boolean"},"spotlightClicks":{"type":"boolean"},"spotlightPadding":{"type":"number"},"stepIndex":{"type":"number"},"styles":{"$ref":"#/definitions/Styles"},"tooltipComponent":{"type":"string"}},"type":"object"},"Step":{"additionalProperties":false,"properties":{"beaconComponent":{"type":"string"},"content":{"type":"string"},"disableBeacon":{"type":"boolean"},"disableCloseOnEsc":{"type":"boolean"},"disableOverlay":{"type":"boolean"},"disableOverlayClose":{"type":"boolean"},"disableScrollParentFix":{"type":"boolean"},"disableScrolling":{"type":"boolean"},"event":{"type":"string"},"floaterProps":{"$ref":"#/definitions/FloaterProps"},"hideBackButton":{"type":"boolean"},"hideCloseButton":{"type":"boolean"},"hideFooter":{"type":"boolean"},"isFixed":{"type":"boolean"},"locale":{"$ref":"#/definitions/Locale"},"offset":{"type":"number"},"placement":{"$ref":"#/definitions/Placement"},"placementBeacon":{"$ref":"#/definitions/PlacementBeacon"},"showProgress":{"type":"boolean"},"showSkipButton":{"type":"boolean"},"spotlightClicks":{"type":"boolean"},"spotlightPadding":{"type":"number"},"styles":{"$ref":"#/definitions/Styles"},"target":{"type":"string"},"title":{"type":"string"},"tooltipComponent":{"type":"string"}},"required":["content","target"],"type":"object"},"StoreHelpers":{"additionalProperties":false,"type":"object"},"StoreState":{"additionalProperties":false,"properties":{"action":{"type":"string"},"controlled":{"type":"boolean"},"index":{"type":"number"},"lifecycle":{"type":"string"},"size":{"type":"number"},"status":{"type":"string"}},"required":["action","controlled","index","lifecycle","size","status"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"beacon":{"type":"object"},"beaconInner":{"type":"object"},"beaconOuter":{"type":"object"},"buttonBack":{"type":"object"},"buttonClose":{"type":"object"},"buttonNext":{"type":"object"},"buttonSkip":{"type":"object"},"options":{"additionalProperties":false,"properties":{"arrowColor":{"type":"string"},"backgroundColor":{"type":"string"},"beaconSize":{"type":"number"},"overlayColor":{"type":"string"},"primaryColor":{"type":"string"},"spotlightShadow":{"type":"string"},"textColor":{"type":"string"},"width":{"type":["string","number"]},"zIndex":{"type":"number"}},"type":"object"},"overlay":{"type":"object"},"overlayLegacy":{"type":"object"},"overlayLegacyCenter":{"type":"object"},"spotlight":{"type":"object"},"spotlightLegacy":{"type":"object"},"tooltip":{"type":"object"},"tooltipContainer":{"type":"object"},"tooltipContent":{"type":"object"},"tooltipFooter":{"type":"object"},"tooltipFooterSpacer":{"type":"object"},"tooltipTitle":{"type":"object"}},"type":"object"},"TooltipRenderProps":{"additionalProperties":false,"properties":{"backProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"closeProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"continuous":{"type":"boolean"},"index":{"type":"number"},"isLastStep":{"type":"boolean"},"primaryProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"size":{"type":"number"},"skipProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"step":{"$ref":"#/definitions/Step"},"tooltipProps":{"additionalProperties":false,"properties":{"aria-modal":{"type":"boolean"},"role":{"type":"string"}},"required":["aria-modal","role"],"type":"object"}},"required":["backProps","closeProps","continuous","index","isLastStep","primaryProps","size","skipProps","step","tooltipProps"],"type":"object"},"actions":{"additionalProperties":false,"properties":{"CLOSE":{"enum":["close"],"type":"string"},"GO":{"enum":["go"],"type":"string"},"INDEX":{"enum":["index"],"type":"string"},"INIT":{"enum":["init"],"type":"string"},"NEXT":{"enum":["next"],"type":"string"},"PREV":{"enum":["prev"],"type":"string"},"RESET":{"enum":["reset"],"type":"string"},"RESTART":{"enum":["restart"],"type":"string"},"SKIP":{"enum":["skip"],"type":"string"},"START":{"enum":["start"],"type":"string"},"STOP":{"enum":["stop"],"type":"string"},"UPDATE":{"enum":["update"],"type":"string"}},"required":["INIT","START","STOP","RESET","RESTART","PREV","NEXT","GO","INDEX","CLOSE","SKIP","UPDATE"],"type":"object"},"events":{"additionalProperties":false,"properties":{"BEACON":{"enum":["beacon"],"type":"string"},"ERROR":{"enum":["error"],"type":"string"},"STEP_AFTER":{"enum":["step:after"],"type":"string"},"STEP_BEFORE":{"enum":["step:before"],"type":"string"},"TARGET_NOT_FOUND":{"enum":["error:target_not_found"],"type":"string"},"TOOLTIP":{"enum":["tooltip"],"type":"string"},"TOOLTIP_CLOSE":{"enum":["close"],"type":"string"},"TOUR_END":{"enum":["tour:end"],"type":"string"},"TOUR_START":{"enum":["tour:start"],"type":"string"},"TOUR_STATUS":{"enum":["tour:status"],"type":"string"}},"required":["TOUR_START","STEP_BEFORE","BEACON","TOOLTIP","TOOLTIP_CLOSE","STEP_AFTER","TOUR_END","TOUR_STATUS","TARGET_NOT_FOUND","ERROR"],"type":"object"},"lifecycle":{"additionalProperties":false,"properties":{"BEACON":{"enum":["beacon"],"type":"string"},"COMPLETE":{"enum":["complete"],"type":"string"},"ERROR":{"enum":["error"],"type":"string"},"INIT":{"enum":["init"],"type":"string"},"READY":{"enum":["ready"],"type":"string"},"TOOLTIP":{"enum":["tooltip"],"type":"string"}},"required":["INIT","READY","BEACON","TOOLTIP","COMPLETE","ERROR"],"type":"object"},"status":{"additionalProperties":false,"properties":{"ERROR":{"enum":["error"],"type":"string"},"FINISHED":{"enum":["finished"],"type":"string"},"IDLE":{"enum":["idle"],"type":"string"},"PAUSED":{"enum":["paused"],"type":"string"},"READY":{"enum":["ready"],"type":"string"},"RUNNING":{"enum":["running"],"type":"string"},"SKIPPED":{"enum":["skipped"],"type":"string"},"WAITING":{"enum":["waiting"],"type":"string"}},"required":["IDLE","READY","WAITING","RUNNING","PAUSED","SKIPPED","FINISHED","ERROR"],"type":"object"},"valueof<status>":{"enum":["idle","ready","waiting","running","paused","skipped","finished","error"],"type":"string"}}}');class z{constructor(e){this._notebookTours=new Map,this._notebookToursChanged=new B.Signal(this),this._validationErrors=new Map,this._tourManager=e.tourManager,this._validator=new(U())({strict:!1}).compile(F)}get tourManager(){return this._tourManager}async addNotebook(e){var t;this._notebookTours.has(e)||e.model&&((null!==(t=e.model.metadataChanged)&&void 0!==t?t:e.model.metadata.changed).connect((()=>{this._notebookMetadataChanged(e)})),e.disposed.connect(this._onNotebookDisposed,this),this._notebookMetadataChanged(e))}getNotebookTourIds(e){const t=[];for(const o of this._tourManager.tours.keys())o.startsWith(`${v}:${e.id}:`)&&t.push(o);return t}getNotebookValidationErrors(e){return this._validationErrors.get(e)||[]}get notebookToursChanged(){return this._notebookToursChanged}_onNotebookDisposed(e){this._cleanNotebookTours(e)}_cleanNotebookTours(e){for(const t of this.getNotebookTourIds(e))this._tourManager.removeTour(t)}_notebookMetadataChanged(e){var t,o;const{model:r}=e,n=r?r.getMetadata?r.getMetadata(_):r.metadata.get(_):null,s=this._tourManager.translator;if(this._cleanNotebookTours(e),this._validationErrors.set(e,[]),n){this._validator(n);const r=this._validator.errors||[];if(this._validationErrors.set(e,r),r.length)console.error(s.__("Validation errors found: fix them in Advanced Settings")),console.table(r);else{const r=null!==(t=n.tours)&&void 0!==t?t:[];for(const t of this.tourManager.sortTours(r))try{this._addNotebookTour(e,t),this._tourManager.launch([t.id],!1)}catch(e){console.groupCollapsed(s.__("Error encountered adding notebook tour %1 (%2)",t.label,t.id),e),console.table(t.steps),console.log(null!==(o=t.options)&&void 0!==o?o:{}),console.groupEnd()}}}this._notebookToursChanged.emit(e)}_addNotebookTour(e,t){this._tourManager.addTour({...t,id:`${v}:${e.id}:${t.id}`,icon:t.icon||L.name})}}class q{constructor(e,t,o,r=null,n=-1){this.handleTourEvent=e=>{if(!e)return;const{status:t,step:o,index:r}=e;t!==this._previousStatus&&(this._previousStatus=t,this._currentStepIndex=-1,t===c.STATUS.FINISHED?this._finished.emit(e):t===c.STATUS.SKIPPED?this._skipped.emit(e):t===c.STATUS.RUNNING?(this._currentStepIndex=0,this._started.emit(e)):t===c.STATUS.ERROR&&console.error(`An error occurred with the tour at step: ${o}`)),t===c.STATUS.RUNNING&&(r!==this._previousStepIndex&&(this._previousStepIndex=r,this._currentStepIndex=e.index),this._stepChanged.emit(e))},this._skipped=new B.Signal(this),this._finished=new B.Signal(this),this._started=new B.Signal(this),this._stepChanged=new B.Signal(this),this._currentStepIndex=-1,this._isDisposed=!1,this._previousStatus=c.STATUS.READY,this._previousStepIndex=-1,this._steps=new Array,this._label=t,this._id=e,this._icon=r||null,this._version=n;const{styles:s,...i}=null!=o?o:{};this._options={...I,...i},this._options.styles||(this._options.styles={}),this._options.styles.options={...this._options.styles.options||{},...(null==s?void 0:s.options)||{}}}get currentStepIndex(){return this._currentStepIndex}get finished(){return this._finished}get hasSteps(){return this.steps.length>0}get id(){return this._id}get isDisposed(){return this._isDisposed}get label(){return this._label}get icon(){return this._icon||N}get options(){return this._options}set options(e){this._options=m.JSONExt.deepCopy(e)}get skipped(){return this._skipped}get started(){return this._started}get stepChanged(){return this._stepChanged}get steps(){return this._steps}set steps(e){this._steps=e}get version(){return this._version}addStep(e){e&&this.steps.push(e)}createAndAddStep(e,t,o,r){const n={title:r,placement:o,target:e,content:t};return this.addStep(n),n}dispose(){this.isDisposed||(this._isDisposed=!0,B.Signal.clearData(this))}isRunning(){return this._currentStepIndex>=0}replaceStep(e,t){if(e<0||e>=this.steps.length)return;const o=this._steps;o[e]=t,this.steps=o}removeStep(e){return e<0||e>=this.steps.length?null:this.steps.splice(e,1)[0]}}class G{constructor(e={}){var t,o;this.createTour=e=>{var t,o,r,n;const{id:s,label:i}=e,a=null===(t=e.hasHelpEntry)||void 0===t||t,l=null!==(o=e.options)&&void 0!==o?o:{},p=null!==(r=e.icon)&&void 0!==r?r:null,u=null!==(n=e.version)&&void 0!==n?n:0;if(this._tours.has(s))throw new Error(this._trans.__("Error creating new tour. TourHandler id's must be unique.\nTutorial with the id: '%1' already exists.",s));l.locale||(l.locale=this._locale);const d=new q(s,i,l,p,u);if(this._menu&&a){const e={args:{id:d.id},command:C.launch},t=this._menu.addItem(e);this._menuItems.set(d.id,t)}this._tours.set(s,d);const c=e=>{this._rememberDoneTour(e.id)};return d.skipped.connect(c),d.finished.connect(c),d},this._forgetDoneTour=e=>{var t;const o=this._state.findIndex((t=>t.id===e));o>=0&&(this._state=this._state.splice(o,1),null===(t=this._tracker)||void 0===t||t.save(this._state))},this._rememberDoneTour=e=>{var t,o,r;const n=this._state.findIndex((t=>t.id===e));n>=0?this._state[n].version=null!==(t=this.tours.get(e).version)&&void 0!==t?t:-1:this._state.push({id:e,version:null!==(o=this.tours.get(e).version)&&void 0!==o?o:-1}),null===(r=this._tracker)||void 0===r||r.save(this._state)},this._activeTours=new Array,this._isDisposed=!1,this._menuItems=new Map,this._state=[],this._tourLaunched=new B.Signal(this),this._menu=e.helpMenu,this._tours=new Map,this._tracker=null!==(t=e.tracker)&&void 0!==t?t:null,this._translator=null!==(o=e.translator)&&void 0!==o?o:l.nullTranslator,this._trans=this._translator.load("jupyterlab_tour"),this._locale={back:this._trans.__("Back"),close:this._trans.__("Close"),last:this._trans.__("Done"),next:this._trans.__("Next"),open:this._trans.__("Open"),skip:this._trans.__("Skip")};const r=new m.PromiseDelegate;this._ready=r.promise,this._tracker?this._tracker.restored.then((e=>{this._state=e})).finally((()=>{r.resolve()})):r.resolve()}get activeTour(){return this._activeTours.filter((e=>e.isRunning()))[0]}get isDisposed(){return this._isDisposed}get ready(){return this._ready}get tourLaunched(){return this._tourLaunched}get tours(){return this._tours}get translator(){return this._trans}addTour(e){try{let t=this._trans;e.translation&&(t=this._translator.load(e.translation));const o=this.createTour({id:e.id,label:t.__(e.label),hasHelpEntry:!1!==e.hasHelpEntry,options:e.options,icon:e.icon?j.LabIcon.resolve({icon:e.icon}):void 0,version:e.version});return e.steps.forEach((e=>{const r={...e};"string"==typeof r.title&&(r.title=t.__(r.title)),"string"==typeof r.content&&(r.content=t.__(r.content)),o.addStep(r)})),o}catch(t){return console.error(this._trans.__("Fail to add tour '%1' (%2)",e.label,e.id),t),null}}dispose(){this.isDisposed||(this._isDisposed=!0,B.Signal.clearData(this))}async launch(e,t=!0){if(!e||0===e.length||this.activeTour)return Promise.resolve();let o;await this.ready,o="string"==typeof e[0]?e.map((e=>this._tours.get(e))):e;let n=o.filter((e=>e&&e.hasSteps));t||(n=n.filter((e=>e.version>=0?this._state.findIndex((t=>t.id===e.id&&t.version===e.version))<0:!this._state.map((e=>e.id)).includes(e.id))));const s=()=>{this._activeTours=n,this._tourLaunched.emit(n)};return n.length>0&&(t?s():r.Notification.info(this._trans.__("ÐŸÐ¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑŒ Ñ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð¼ Jupyter?"),{autoClose:1e4,actions:[{label:this._trans.__("Ð”Ð°"),callback:s},{label:this._trans.__("ÐÐµÑ‚"),callback:()=>{n.forEach((e=>this._rememberDoneTour(e.id)))}}]})),Promise.resolve()}removeTour(e){if(!e)return;let t;t="string"==typeof e?e:e.id;const o=this._tours.get(t);if(o){if(this._menu&&this._menuItems.has(t)){const e=this._menuItems.get(t);if(e)try{e.dispose()}catch(t){this._menu.helpMenu.menu.removeItem(e)}this._menuItems.delete(t)}o.dispose(),this._tours.delete(t),this._forgetDoneTour(t)}}sortTours(e){const t=[...e];return t.sort(this._compareTours),t}_compareTours(e,t){let o=this.translator;e.translation&&(o=this._translator.load(e.translation));let r=this.translator;return t.translation&&(r=this._translator.load(t.translation)),o.__(e.label).toLocaleLowerCase().localeCompare(r.__(t.label).toLocaleLowerCase())||e.id.localeCompare(t.id)}}class H{constructor(e){this._ready=new m.PromiseDelegate,this._userTours=null,this._tourManager=e.tourManager,Promise.all([e.getSettings(),this._tourManager.ready]).then((([e])=>{this._userTours=e,this._userTours.changed.connect(this._userToursChanged,this),this._userToursChanged(),this._ready.resolve()})).catch((e=>{console.warn(e),this._ready.reject(e)}))}get ready(){return this._ready.promise}get tourManager(){return this._tourManager}_userToursChanged(){var e,t;const o=[...null===(t=null===(e=this._userTours)||void 0===e?void 0:e.composite)||void 0===t?void 0:t.tours];if(o){for(const e of this._tourManager.tours.keys())e.startsWith(T)&&this._tourManager.removeTour(e);for(const e of this.tourManager.sortTours(o))try{this._addUserTour(e),this._tourManager.launch([e.id],!1)}catch(t){const o=this._tourManager.translator;console.groupCollapsed(o.__("Error encountered adding user tour %1 (%2)",e.label,e.id),t),console.table(e.steps),console.log(e.options||{}),console.groupEnd()}}}_addUserTour(e){this._tourManager.addTour({...e,id:`${T}:${e.id}`,icon:e.icon||M.name})}}const V={id:f,autoStart:!0,activate:function(e,t,o,n){const s=V.id.replace(/[^\w]/g,""),{commands:i,serviceManager:u}=e;n=null!=n?n:l.nullTranslator;const c=new m.PromiseDelegate,h=a.ConfigSection.create({name:s,serverSettings:u.serverSettings}).catch((e=>{console.error("Failed to fetch state for jupyterlab-tour.",e)})),g=Object.freeze({restored:c.promise,save:async e=>{var t;await c.promise,null===(t=await h)||void 0===t||t.update({state:e})}}),y=new G({helpMenu:null==o?void 0:o.helpMenu,tracker:g,translator:n});Promise.all([e.restored,h]).then((async([e,t])=>{var o;c.resolve(null!==(o=null==t?void 0:t.data.state)&&void 0!==o?o:[])})).catch((e=>{console.error("Failed to load tour states.",e),c.reject(e)}));const _=y.translator;i.addCommand(C.launch,{label:e=>{if(e.id){const t=y.tours.get(e.id);return _.__(t.label)}return _.__("Launch a Tour")},icon:e=>{var t;return(null===(t=y.tours.get(e.id))||void 0===t?void 0:t.icon)||N},usage:_.__("Launch a tour.\nIf no id provided, prompt the user.\nArguments {id: Tour ID}"),isEnabled:()=>!y.activeTour,execute:async e=>{let t=e.id;const o=void 0===e.force||e.force;if(!t){const e=await r.InputDialog.getItem({items:Array.from(y.tours.keys()),title:_.__("Choose a tour")});if(!e.button.accept||!e.value)return;t=e.value}await y.ready,y.launch([t],o)}}),i.addCommand(C.addTour,{label:_.__("Add a tour"),usage:_.__("Add a tour and returns it.\nArguments {tour: ITour}\nReturns `null` if a failure occurs."),execute:e=>y.addTour(e.tour)}),t&&t.addItem({category:_.__("Help"),command:C.launch});const f=r.ReactWidget.create(d().createElement(b,{tourLaunched:y.tourLaunched}));return p.Widget.attach(f,document.body),y},optional:[r.ICommandPalette,n.IMainMenu,l.ITranslator],provides:E},W={id:T,autoStart:!0,activate:function(e,t,o){return new H({tourManager:o,getSettings:()=>t.load(T)})},requires:[i.ISettingRegistry,E],optional:[l.ITranslator],provides:k},Y={id:v,autoStart:!0,activate:function(e,t,o,r){const n=new z({tourManager:o});return t.widgetAdded.connect(((e,t)=>n.addNotebook(t.content))),null==r||r.addFactory("Notebook",_,(e=>new D(e.content,n))),n},requires:[s.INotebookTracker,E],optional:[r.IToolbarWidgetRegistry],provides:w},J={id:S,autoStart:!0,activate:function(e,t,o){if(function(e){var t;const o=e.createTour({id:P,label:"Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² ÐºÑƒÑ€Ñ Python",hasHelpEntry:!0,version:20240216});o.options={...o.options,hideBackButton:!0,debug:!0,disableScrolling:!0,disableOverlayClose:!0,styles:{...o.options.styles,options:{...(null===(t=o.options.styles)||void 0===t?void 0:t.options)||{},zIndex:999999,overlayColor:"rgba(0, 0, 0, 0.7)"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0}}},o.addStep({target:"#jp-main-dock-panel",content:d().createElement(d().Fragment,null,d().createElement("p",null,d().createElement("strong",null,"Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÐºÑƒÑ€Ñ Python Ð´Ð»Ñ Ð´Ð°Ñ‚Ð°-Ð¸Ð½Ð¶ÐµÐ½ÐµÑ€Ð¾Ð²!")),d().createElement("p",null,"Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ Ñ‚ÑƒÑ€ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°.")),placement:"center",title:"Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ!"}),o.addStep({target:".jp-NotebookPanel-toolbar",content:d().createElement(d().Fragment,null,d().createElement("p",null,"ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð½Ð¾ÑƒÑ‚Ð±ÑƒÐºÐ¾Ð¼:"),d().createElement("ul",{style:{textAlign:"left",paddingLeft:"20px"}},d().createElement("li",null,d().createElement("strong",null,"â–¶")," â€” Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÑÑ‡ÐµÐ¹ÐºÑƒ"),d().createElement("li",null,d().createElement("strong",null,"â– ")," â€” Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ"),d().createElement("li",null,d().createElement("strong",null,"â†»")," â€” Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ´Ñ€Ð¾"))),placement:"center",title:"ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²"}),o.addStep({target:".jp-Cell.jp-Notebook-cell",content:d().createElement(d().Fragment,null,d().createElement("p",null,"Ð­Ñ‚Ð¾ ",d().createElement("strong",null,"ÑÑ‡ÐµÐ¹ÐºÐ° ÐºÐ¾Ð´Ð°"),"."),d().createElement("p",null,"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ",d().createElement("kbd",null,"Shift"),"+",d().createElement("kbd",null,"Enter")," Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð¸ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÑÑ‡ÐµÐ¹ÐºÐµ."),d().createElement("p",null,d().createElement("small",null,"Ð˜Ð»Ð¸ ",d().createElement("kbd",null,"Ctrl"),"+",d().createElement("kbd",null,"Enter")," Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¸ Ð¾ÑÑ‚Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ."))),placement:"center",title:"Ð¯Ñ‡ÐµÐ¹ÐºÐ° ÐºÐ¾Ð´Ð°"}),o.addStep({target:"#jp-MainMenu",content:d().createElement(d().Fragment,null,d().createElement("p",null,"Ð’ Ð¼ÐµÐ½ÑŽ ",d().createElement("strong",null,"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ â†’ ÐžÐ³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ")," Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾ Ñ€Ð°Ð·Ð´ÐµÐ»Ð°Ð¼ ÑƒÑ€Ð¾ÐºÐ°."),d().createElement("p",null,d().createElement("small",null,"Ð¢Ð°ÐºÐ¶Ðµ Ñ‚Ð°Ð¼ ÐµÑÑ‚ÑŒ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ."))),placement:"center",title:"ÐœÐµÐ½ÑŽ"}),o.addStep({target:"#jp-main-dock-panel",content:d().createElement(d().Fragment,null,d().createElement("p",null,"Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ!"),d().createElement("p",null,"Ð˜Ð·Ð¼ÐµÐ½ÑÐ¹Ñ‚Ðµ ÐºÐ¾Ð´, ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ â€” ÑÑ‚Ð¾ Ð²Ð°ÑˆÐ° ÐºÐ¾Ð¿Ð¸Ñ Ð½Ð¾ÑƒÑ‚Ð±ÑƒÐºÐ°."),d().createElement("p",null,d().createElement("strong",null,"Ð£Ð´Ð°Ñ‡Ð¸ Ð² Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸Ð¸ Python!")," ðŸ")),placement:"center",title:"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!"})}(t),o){let e=!1;o.widgetAdded.connect((()=>{e||t.tours.has(P)&&setTimeout((()=>{t.launch([P],!1),e=!0}),2e3)}))}},requires:[E],optional:[s.INotebookTracker]},K=[V,W,Y,J]}}]);